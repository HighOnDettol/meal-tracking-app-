<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Jubilee Meal Coupon</title>
    <style>
        /* General Body and Container Styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        /* Header and Golden Jubilee Styling */
        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #ffcc00;
            padding-bottom: 10px;
        }
        .header h1 {
            color: #004d99;
            margin: 0;
            font-size: 2.5em;
        }
        .header p {
            margin: 5px 0 0;
            color: #e6b800;
            font-size: 1.2em;
            font-weight: bold;
        }

        /* Input Form Styling */
        #input-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .school-entry {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .school-entry h4 {
            margin-top: 0;
            color: #007bff;
        }
        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 10px;
        }
        label {
            font-weight: bold;
            color: #555;
            margin-bottom: 5px;
        }
        input {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            padding: 12px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        
        /* Coupon and A4 Layout for Printing */
        .print-area {
            display: none; /* Hidden by default */
        }
        .coupon-page {
            display: flex;
            flex-wrap: wrap; /* Allows columns to wrap */
            justify-content: space-around;
            width: 21cm; /* A4 width */
            margin: 0 auto;
        }
        .coupon-column {
            width: 48%; /* Slightly less than 50% to account for margins */
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .coupon-column h3 {
            text-align: center;
            margin-top: 0;
            color: #004d99;
        }

        /* Coupon Styling */
        .coupon {
            width: 100%;
            height: 120px; /* Reduced height to fit 6 per column */
            border: 2px dashed #333;
            padding: 8px;
            border-radius: 5px;
            box-sizing: border-box;
            background-color: #fafafa;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .coupon-title {
            font-weight: bold;
            font-size: 0.9em;
            color: #004d99;
            margin-bottom: 3px;
        }
        .coupon-subtitle {
            font-size: 0.7em;
            color: #e6b800;
        }
        .coupon-details p {
            margin: 2px 0;
            font-size: 0.75em;
        }
        .coupon-details strong {
            color: #333;
        }
        .highlight {
            font-size: 1.2em;
            font-weight: bold;
            color: #dc3545;
            margin-top: 3px;
        }

        /* Print-specific styles */
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .container, .no-print, .header {
                display: none;
            }
            .print-area {
                display: block;
            }
            .coupon-page {
                border: none;
                width: 21cm;
                height: 29.7cm; /* A4 size */
                padding: 1cm; /* Optional padding for better margins */
                box-sizing: border-box;
            }
            .coupon-column {
                break-inside: avoid; /* Prevents columns from breaking across pages */
            }
            .coupon {
                border: 1px solid #000;
                page-break-inside: avoid; /* Prevents coupons from splitting */
            }
        }
    </style>
</head>
<body>

    <div class="container no-print">
        <div class="header">
            <h1>Sishu Mangal Parsat</h1>
            <p>Golden Jubilee Celebration</p>
        </div>
        
        <h2>Coupon Generator</h2>
        <p>Fill in the details for up to 6 schools. When you generate, a single printable A4 page will appear with all 12 coupons.</p>

        <form id="input-form">
            <div class="school-entry">
                <h4>School 1</h4>
                <div class="form-group"><label>School Name:</label><input type="text" class="school-name"></div>
                <div class="form-group"><label>Contact Name:</label><input type="text" class="contact-name"></div>
                <div class="form-group"><label>Mobile Number:</label><input type="tel" class="mobile-no"></div>
                <div class="form-group"><label>Number of Meals:</label><input type="number" class="meal-count" min="1"></div>
            </div>
            <div class="school-entry">
                <h4>School 2</h4>
                <div class="form-group"><label>School Name:</label><input type="text" class="school-name"></div>
                <div class="form-group"><label>Contact Name:</label><input type="text" class="contact-name"></div>
                <div class="form-group"><label>Mobile Number:</label><input type="tel" class="mobile-no"></div>
                <div class="form-group"><label>Number of Meals:</label><input type="number" class="meal-count" min="1"></div>
            </div>
            <div class="school-entry">
                <h4>School 3</h4>
                <div class="form-group"><label>School Name:</label><input type="text" class="school-name"></div>
                <div class="form-group"><label>Contact Name:</label><input type="text" class="contact-name"></div>
                <div class="form-group"><label>Mobile Number:</label><input type="tel" class="mobile-no"></div>
                <div class="form-group"><label>Number of Meals:</label><input type="number" class="meal-count" min="1"></div>
            </div>
            <div class="school-entry">
                <h4>School 4</h4>
                <div class="form-group"><label>School Name:</label><input type="text" class="school-name"></div>
                <div class="form-group"><label>Contact Name:</label><input type="text" class="contact-name"></div>
                <div class="form-group"><label>Mobile Number:</label><input type="tel" class="mobile-no"></div>
                <div class="form-group"><label>Number of Meals:</label><input type="number" class="meal-count" min="1"></div>
            </div>
            <div class="school-entry">
                <h4>School 5</h4>
                <div class="form-group"><label>School Name:</label><input type="text" class="school-name"></div>
                <div class="form-group"><label>Contact Name:</label><input type="text" class="contact-name"></div>
                <div class="form-group"><label>Mobile Number:</label><input type="tel" class="mobile-no"></div>
                <div class="form-group"><label>Number of Meals:</label><input type="number" class="meal-count" min="1"></div>
            </div>
            <div class="school-entry">
                <h4>School 6</h4>
                <div class="form-group"><label>School Name:</label><input type="text" class="school-name"></div>
                <div class="form-group"><label>Contact Name:</label><input type="text" class="contact-name"></div>
                <div class="form-group"><label>Mobile Number:</label><input type="tel" class="mobile-no"></div>
                <div class="form-group"><label>Number of Meals:</label><input type="number" class="meal-count" min="1"></div>
            </div>

            <button type="submit" id="generate-btn">Generate and Print Coupons</button>
        </form>
    </div>

    <div class="print-area">
        <div class="coupon-page">
            <div class="coupon-column" id="school-column">
                <h3>School's Copy</h3>
            </div>

            <div class="coupon-column" id="caterer-column">
                <h3>Caterer's Copy</h3>
            </div>
        </div>
    </div>
    
    <script>
        document.getElementById('input-form').addEventListener('submit', function(event) {
            event.preventDefault();

            // Select the columns for the coupons
            const schoolColumn = document.getElementById('school-column');
            const catererColumn = document.getElementById('caterer-column');
            
            // Clear any previous coupons, but keep the header
            schoolColumn.innerHTML = '<h3>School\'s Copy</h3>';
            catererColumn.innerHTML = '<h3>Caterer\'s Copy</h3>';

            // Get all input fields
            const schoolNames = document.querySelectorAll('.school-name');
            const contactNames = document.querySelectorAll('.contact-name');
            const mobileNos = document.querySelectorAll('.mobile-no');
            const mealCounts = document.querySelectorAll('.meal-count');

            // Loop through each school entry
            for (let i = 0; i < schoolNames.length; i++) {
                const schoolName = schoolNames[i].value;
                const contactName = contactNames[i].value;
                const mobileNo = mobileNos[i].value;
                const mealCount = mealCounts[i].value;

                // Only generate coupons if at least one field is filled
                if (schoolName || contactName || mobileNo || mealCount) {
                    // Create School's Coupon
                    const schoolCoupon = `
                        <div class="coupon">
                            <div class="coupon-title">Sishu Mangal Parsat</div>
                            <div class="coupon-subtitle">Golden Jubilee Celebration</div>
                            <div class="coupon-details">
                                <p><strong>School Name:</strong> ${schoolName}</p>
                                <p><strong>Contact Person:</strong> ${contactName}</p>
                                <p><strong>Mobile No:</strong> ${mobileNo}</p>
                                <p><strong>Meals:</strong> <span class="highlight">${mealCount}</span></p>
                            </div>
                        </div>
                    `;
                    schoolColumn.innerHTML += schoolCoupon;

                    // Create Caterer's Coupon
                    const catererCoupon = `
                        <div class="coupon">
                            <div class="coupon-title">Sishu Mangal Parsat</div>
                            <div class="coupon-subtitle">Golden Jubilee Celebration</div>
                            <div class="coupon-details">
                                <p><strong>School Name:</strong> ${schoolName}</p>
                                <p><strong>Contact Person:</strong> ${contactName}</p>
                                <p><strong>Mobile No:</strong> ${mobileNo}</p>
                                <p><strong>Meals:</strong> <span class="highlight">${mealCount}</span></p>
                            </div>
                        </div>
                    `;
                    catererColumn.innerHTML += catererCoupon;
                }
            }

            // Trigger the print dialog
            window.print();
        });
    </script>
</body>
</html>
